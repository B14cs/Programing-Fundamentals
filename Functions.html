<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Functions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
        }

        h1 {
            font-size: 3.5em;
            color: #4facfe;
            margin-bottom: 15px;
            text-align: center;
            animation: fadeIn 0.8s ease-in;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            text-align: center;
            font-size: 1.5em;
            color: #666;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .concept-box {
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 6px solid #4facfe;
            font-size: 1.3em;
            line-height: 1.8;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .interactive-section {
            margin: 40px 0;
            padding: 35px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 3px dashed #4facfe;
            transition: all 0.3s ease;
        }

        .interactive-section:hover {
            border-color: #00f2fe;
            box-shadow: 0 5px 20px rgba(79, 172, 254, 0.2);
        }

        .interactive-section h2 {
            color: #4facfe;
            font-size: 2.2em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
        }

        .interactive-section h2::before {
            content: "🎮";
            margin-right: 15px;
            font-size: 1.2em;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 900px) {
            .demo-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .box-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .box-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .function-box {
            border: 4px solid #4facfe;
            padding: 25px;
            border-radius: 10px;
            margin: 15px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.4em;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 5px 5px 15px #d1d1d1, -5px -5px 15px #ffffff;
        }

        .function-name {
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .function-result {
            color: #00f2fe;
            font-size: 2em;
            font-weight: bold;
            animation: pulse 2s ease-in-out infinite;
        }

        input[type="text"], input[type="number"] {
            padding: 15px 20px;
            font-size: 1.2em;
            border: 3px solid #4facfe;
            border-radius: 8px;
            width: 100%;
            margin: 12px 0;
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: #00f2fe;
            box-shadow: 0 0 15px rgba(79, 172, 254, 0.3);
        }

        button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 16px 25px;
            font-size: 1.2em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
            flex: 1;
            min-width: 120px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            line-height: 1.8;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.5);
            overflow-x: auto;
        }

        .keyword {
            color: #ff79c6;
        }

        .string {
            color: #f1fa8c;
        }

        .number {
            color: #bd93f9;
        }

        .comment {
            color: #6272a4;
        }

        .function {
            color: #50fa7b;
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .type-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border-top: 5px solid #4facfe;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .type-card:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .type-card h3 {
            color: #4facfe;
            font-size: 1.6em;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .type-card .example {
            background: #f5f7fa;
            padding: 12px;
            border-radius: 8px;
            margin-top: 12px;
            font-family: 'Courier New', monospace;
            font-size: 1em;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .compact-button-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .section-title {
            font-size: 2.8em;
            color: #00f2fe;
            margin: 40px 0 20px;
            text-align: center;
            border-bottom: 3px solid #4facfe;
            padding-bottom: 15px;
        }

        .tip-box {
            background: #fff9c4;
            border-left: 5px solid #ffd600;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 1.1em;
        }

        .function-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
            gap: 30px;
        }

        .machine-box {
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            padding: 15px;
        }

        .machine-label {
            position: absolute;
            top: -25px;
            font-size: 1.2em;
            color: #333;
        }

        .machine-content {
            font-size: 1.2em;
            text-align: center;
        }

        .arrow {
            font-size: 3em;
            color: #4facfe;
        }

        /* Modal for function examples */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 900px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            position: relative;
            border: 5px solid #4facfe;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2.5em;
            cursor: pointer;
            color: #4facfe;
            transition: color 0.3s;
            background: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        .close-modal:hover {
            color: #00f2fe;
            transform: scale(1.1);
        }

        .modal-title {
            color: #4facfe;
            font-size: 2.8em;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 3px solid #00f2fe;
            padding-bottom: 15px;
        }

        .modal-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 30px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 1.4em;
            line-height: 1.8;
            margin: 20px 0;
            box-shadow: inset 0 4px 15px rgba(0,0,0,0.5);
            overflow-x: auto;
        }

        .function-description {
            font-size: 1.4em;
            line-height: 1.7;
            margin: 20px 0;
            color: #444;
        }

        .function-icon {
            font-size: 3em;
            margin-right: 20px;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }
            
            .subtitle {
                font-size: 1.2em;
            }
            
            .container {
                padding: 20px;
            }
            
            .interactive-section {
                padding: 20px;
            }
            
            .section-title {
                font-size: 2em;
            }

            .compact-button-group {
                grid-template-columns: 1fr;
            }
            
            .function-visual {
                flex-direction: column;
                gap: 20px;
            }
            
            .modal-content {
                padding: 25px;
            }
            
            .modal-title {
                font-size: 2.2em;
            }
            
            .modal-code {
                font-size: 1.2em;
                padding: 20px;
            }
            
            .function-description {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>⚙️ Understanding Functions</h1>
        <p class="subtitle">Learn how to create reusable blocks of code that perform specific tasks</p>

        <div class="concept-box">
            <strong>What are Functions?</strong><br>
            Functions are reusable blocks of code that perform a specific task. Think of them as machines: you put something in (input), the machine does its work, and you get something out (output). Functions help you avoid repeating code and make your programs more organized.
        </div>

        <div class="function-visual">
            <div class="machine-box">
                <div class="machine-label">Input</div>
                <div class="machine-content">5, 3</div>
            </div>
            <div class="arrow">→</div>
            <div class="machine-box">
                <div class="machine-label">Function</div>
                <div class="machine-content">add(x, y)</div>
            </div>
            <div class="arrow">→</div>
            <div class="machine-box">
                <div class="machine-label">Output</div>
                <div class="machine-content">8</div>
            </div>
        </div>

        <!-- Function Basics -->
        <h2 id="basics" class="section-title">Function Basics</h2>
        <div class="interactive-section">
            <h2>Try It: Create Your First Function</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Functions are defined once but can be called (used) multiple times
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Definition</h3>
                    <input type="text" id="funcName" placeholder="Function name (e.g., greet)" value="greet">
                    <button onclick="createFunction()" style="width: 100%;">Create Function</button>
                    <button onclick="callFunction()" style="width: 100%; background: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%);">Call Function</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Output</h3>
                    <div class="function-box" id="functionDisplay">
                        <div class="function-name">greet</div>
                        <div class="function-result">Click "Call Function"</div>
                    </div>
                    <div class="code-block" id="functionCode">
                        <span class="keyword">function</span> <span class="function">greet</span>() {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, World!"</span>;<br>
                        }<br>
                        <br>
                        <span class="comment">// Call the function</span><br>
                        <span class="function">greet</span>();
                    </div>
                </div>
            </div>
        </div>

        <!-- Parameters and Arguments -->
        <h2 id="parameters" class="section-title">Parameters & Arguments</h2>
        <div class="interactive-section">
            <h2>Try It: Functions with Parameters</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Parameters are like variables that hold the values passed to a function
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Input Values</h3>
                    <input type="number" id="param1" placeholder="First number" value="10">
                    <input type="number" id="param2" placeholder="Second number" value="5">
                    <button onclick="calculateWithParams()" style="width: 100%;">Calculate Sum</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Result</h3>
                    <div class="function-box" id="paramResult">
                        <div class="function-name">add</div>
                        <div class="function-result">15</div>
                    </div>
                    <div class="code-block" id="paramCode">
                        <span class="keyword">function</span> <span class="function">add</span>(a, b) {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> a + b;<br>
                        }<br>
                        <br>
                        <span class="comment">// Call with arguments</span><br>
                        <span class="keyword">let</span> result = <span class="function">add</span>(<span class="number">10</span>, <span class="number">5</span>);
                    </div>
                </div>
            </div>
        </div>

        <!-- Return Values -->
        <h2 id="return" class="section-title">Return Values</h2>
        <div class="interactive-section">
            <h2>Try It: Functions That Return Values</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> The return statement sends a value back from the function
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Check a Number</h3>
                    <input type="number" id="checkNumber" placeholder="Enter a number" value="7">
                    <button onclick="checkNumber()" style="width: 100%;">Check if Even</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Check Result</h3>
                    <div class="function-box" id="checkResult">
                        <div class="function-name">isEven</div>
                        <div class="function-result">7 is odd</div>
                    </div>
                    <div class="code-block" id="checkCode">
                        <span class="keyword">function</span> <span class="function">isEven</span>(num) {<br>
                        &nbsp;&nbsp;<span class="keyword">if</span> (num % <span class="number">2</span> === <span class="number">0</span>) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"even"</span>;<br>
                        &nbsp;&nbsp;} <span class="keyword">else</span> {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"odd"</span>;<br>
                        &nbsp;&nbsp;}<br>
                        }<br>
                        <br>
                        <span class="keyword">let</span> result = <span class="function">isEven</span>(<span class="number">7</span>);
                    </div>
                </div>
            </div>
        </div>

        <!-- Function Types -->
        <h2 id="types" class="section-title">Types of Functions</h2>
        <div class="interactive-section">
            <h2>Different Ways to Create Functions</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> JavaScript offers several ways to define functions, each with its own use cases
            </div>
            <div class="types-grid">
                <div class="type-card" onclick="showFunctionExample('declaration')">
                    <h3>📝 Function Declaration</h3>
                    <p>Traditional way to define a function</p>
                    <div class="example">
                        function greet() {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        }
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('expression')">
                    <h3>💡 Function Expression</h3>
                    <p>Assigning a function to a variable</p>
                    <div class="example">
                        const greet = function() {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        };
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('arrow')">
                    <h3>🏹 Arrow Function</h3>
                    <p>Modern concise syntax</p>
                    <div class="example">
                        const greet = () => {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        };
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('callback')">
                    <h3>🔄 Callback Function</h3>
                    <p>Function passed as an argument</p>
                    <div class="example">
                        button.addEventListener(<br>
                        &nbsp;&nbsp;"click", function() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;alert("Clicked!");<br>
                        &nbsp;&nbsp;}<br>
                        );
                    </div>
                </div>
            </div>
        </div>

        <!-- Function Scope -->
        <h2 id="scope" class="section-title">Function Scope</h2>
        <div class="interactive-section">
            <h2>Try It: Understanding Variable Scope</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Variables declared inside a function are only accessible within that function
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Scope Demonstration</h3>
                    <button onclick="demonstrateScope()" style="width: 100%;">Run Scope Demo</button>
                    <div id="scopeOutput" style="margin-top: 20px; padding: 15px; background: #f5f7fa; border-radius: 8px; min-height: 100px;">
                        Click the button to see scope in action
                    </div>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Scope Code</h3>
                    <div class="code-block">
                        <span class="comment">// Global variable</span><br>
                        <span class="keyword">let</span> globalVar = <span class="string">"I'm global"</span>;<br>
                        <br>
                        <span class="keyword">function</span> <span class="function">testScope</span>() {<br>
                        &nbsp;&nbsp;<span class="comment">// Local variable</span><br>
                        &nbsp;&nbsp;<span class="keyword">let</span> localVar = <span class="string">"I'm local"</span>;<br>
                        &nbsp;&nbsp;console.log(globalVar); <span class="comment">// Works</span><br>
                        &nbsp;&nbsp;console.log(localVar);  <span class="comment">// Works</span><br>
                        }<br>
                        <br>
                        <span class="function">testScope</span>();<br>
                        console.log(globalVar); <span class="comment">// Works</span><br>
                        <span class="comment">// console.log(localVar); // Error!</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Demo: Calculator Functions -->
         <div class="interactive-section">
            <h2>Try It: Calculator with Functions</h2>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Calculator Inputs</h3>
                    <input type="number" id="num1" placeholder="First number" value="15">
                    <input type="number" id="num2" placeholder="Second number" value="3">
                    <div class="compact-button-group">
                        <button onclick="calculate('add')">+ Add</button>
                        <button onclick="calculate('subtract')">- Subtract</button>
                        <button onclick="calculate('multiply')">× Multiply</button>
                        <button onclick="calculate('divide')">÷ Divide</button>
                    </div>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Calculator Result</h3>
                    <div class="function-box" id="calcResult">
                        <div class="function-name">calculator</div>
                        <div class="function-result">18</div>
                    </div>
                    <div class="code-block" id="calcCode">
                        <span class="keyword">function</span> <span class="function">add</span>(a, b) {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> a + b;<br>
                        }<br>
                        <br>
                        <span class="keyword">let</span> result = <span class="function">add</span>(<span class="number">15</span>, <span class="number">3</span>);
                    </div>
                </div>
            </div>
        </div>

        <div class="concept-box">
            <strong>💡 Key Takeaways:</strong><br>
            • Functions are reusable blocks of code that perform specific tasks<br>
            • Parameters allow functions to accept input values<br>
            • Return values allow functions to send results back<br>
            • Functions help avoid code repetition and improve organization<br>
            • Variables inside functions have local scope (not accessible outside)<br>
            • Functions can be defined in different ways (declaration, expression, arrow)<br>
            • Use functions to break down complex problems into smaller, manageable pieces
        </div>
    </div>

    <!-- Modal for function examples -->
    <div id="functionModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeFunctionModal()">&times;</span>
            <div class="modal-header">
                <span class="function-icon" id="modalFunctionIcon">⚙️</span>
                <h2 class="modal-title" id="modalFunctionTitle">Function Type</h2>
            </div>
            <div class="function-description" id="modalFunctionDescription"></div>
            <div class="modal-code" id="modalFunctionCode"></div>
            <div class="function-description" id="modalFunctionDetails"></div>
        </div>
    </div>

    <script>
        // Function examples modal
        function showFunctionExample(type) {
            const modal = document.getElementById('functionModal');
            const title = document.getElementById('modalFunctionTitle');
            const description = document.getElementById('modalFunctionDescription');
            const code = document.getElementById('modalFunctionCode');
            const details = document.getElementById('modalFunctionDetails');
            const icon = document.getElementById('modalFunctionIcon');
            
            const functionData = {
                'declaration': {
                    icon: '📝',
                    title: 'Function Declaration',
                    description: 'The traditional way to define a function',
                    code: 'function greet(name) {<br>&nbsp;&nbsp;return "Hello, " + name + "!";<br>}<br><br>// Call the function<br>let message = greet("Alice");<br>console.log(message); // "Hello, Alice!"',
                    details: 'Function declarations are hoisted, meaning they can be called before they are defined in the code. This is the most common way to define functions.'
                },
                'expression': {
                    icon: '💡',
                    title: 'Function Expression',
                    description: 'Assigning a function to a variable',
                    code: 'const greet = function(name) {<br>&nbsp;&nbsp;return "Hello, " + name + "!";<br>};<br><br>// Call the function<br>let message = greet("Bob");<br>console.log(message); // "Hello, Bob!"',
                    details: 'Function expressions are not hoisted, so they must be defined before they are called. They are useful when you need to assign different functions to the same variable.'
                },
                'arrow': {
                    icon: '🏹',
                    title: 'Arrow Function',
                    description: 'Modern concise syntax for functions',
                    code: 'const greet = (name) => {<br>&nbsp;&nbsp;return "Hello, " + name + "!";<br>};<br><br>// Even shorter for simple functions<br>const add = (a, b) => a + b;<br><br>// Call the functions<br>console.log(greet("Charlie")); // "Hello, Charlie!"<br>console.log(add(5, 3)); // 8',
                    details: 'Arrow functions have a shorter syntax and do not have their own "this" context. They are especially useful for short, simple functions and callbacks.'
                },
                'callback': {
                    icon: '🔄',
                    title: 'Callback Function',
                    description: 'A function passed as an argument to another function',
                    code: '// Define a function that takes a callback<br>function processUserInput(callback) {<br>&nbsp;&nbsp;let name = prompt("Please enter your name");<br>&nbsp;&nbsp;callback(name);<br>}<br><br>// Use the function with a callback<br>processUserInput(function(name) {<br>&nbsp;&nbsp;console.log("Hello, " + name + "!");<br>});',
                    details: 'Callback functions are commonly used in asynchronous operations, event handlers, and higher-order functions. They allow you to customize what happens after an operation completes.'
                }
            };
            
            const data = functionData[type];
            icon.textContent = data.icon;
            title.textContent = data.title;
            description.textContent = data.description;
            code.innerHTML = data.code;
            details.textContent = data.details;
            
            modal.style.display = 'flex';
        }
        
        function closeFunctionModal() {
            document.getElementById('functionModal').style.display = 'none';
        }

        // Close modal when clicking outside the content
        window.onclick = function(event) {
            const modal = document.getElementById('functionModal');
            if (event.target === modal) {
                closeFunctionModal();
            }
        }

        // Basic function creation
        function createFunction() {
            const name = document.getElementById('funcName').value || 'greet';
            document.getElementById('functionCode').innerHTML = `
                <span class="keyword">function</span> <span class="function">${name}</span>() {<br>
                &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, World!"</span>;<br>
                }<br>
                <br>
                <span class="comment">// Call the function</span><br>
                <span class="function">${name}</span>();
            `;
        }

        function callFunction() {
            const name = document.getElementById('funcName').value || 'greet';
            document.getElementById('functionDisplay').innerHTML = `
                <div class="function-name">${name}</div>
                <div class="function-result">Hello, World!</div>
            `;
        }

        // Function with parameters
        function calculateWithParams() {
            const num1 = parseInt(document.getElementById('param1').value) || 0;
            const num2 = parseInt(document.getElementById('param2').value) || 0;
            const result = num1 + num2;
            
            document.getElementById('paramResult').innerHTML = `
                <div class="function-name">add</div>
                <div class="function-result">${result}</div>
            `;
            
            document.getElementById('paramCode').innerHTML = `
                <span class="keyword">function</span> <span class="function">add</span>(a, b) {<br>
                &nbsp;&nbsp;<span class="keyword">return</span> a + b;<br>
                }<br>
                <br>
                <span class="comment">// Call with arguments</span><br>
                <span class="keyword">let</span> result = <span class="function">add</span>(<span class="number">${num1}</span>, <span class="number">${num2}</span>);
            `;
        }

        // Function with return value
        function checkNumber() {
            const num = parseInt(document.getElementById('checkNumber').value) || 0;
            const result = num % 2 === 0 ? "even" : "odd";
            
            document.getElementById('checkResult').innerHTML = `
                <div class="function-name">isEven</div>
                <div class="function-result">${num} is ${result}</div>
            `;
            
            document.getElementById('checkCode').innerHTML = `
                <span class="keyword">function</span> <span class="function">isEven</span>(num) {<br>
                &nbsp;&nbsp;<span class="keyword">if</span> (num % <span class="number">2</span> === <span class="number">0</span>) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"even"</span>;<br>
                &nbsp;&nbsp;} <span class="keyword">else</span> {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"odd"</span>;<br>
                &nbsp;&nbsp;}<br>
                }<br>
                <br>
                <span class="keyword">let</span> result = <span class="function">isEven</span>(<span class="number">${num}</span>);
            `;
        }

        // Scope demonstration
        function demonstrateScope() {
            const output = document.getElementById('scopeOutput');
            output.innerHTML = `
                <strong>Global variable:</strong> I'm global<br>
                <strong>Inside function:</strong> I'm local<br>
                <strong>Global variable after function:</strong> I'm global<br>
                <strong style="color: red;">Trying to access local variable outside function: ERROR!</strong>
            `;
        }

        // Calculator functions
        function calculate(operation) {
            const num1 = parseFloat(document.getElementById('calcNum1').value) || 0;
            const num2 = parseFloat(document.getElementById('calcNum2').value) || 0;
            let result;
            let operator;
            let funcName;

            switch(operation) {
                case 'add':
                    result = num1 + num2;
                    operator = '+';
                    funcName = 'add';
                    break;
                case 'subtract':
                    result = num1 - num2;
                    operator = '-';
                    funcName = 'subtract';
                    break;
                case 'multiply':
                    result = num1 * num2;
                    operator = '*';
                    funcName = 'multiply';
                    break;
                case 'divide':
                    result = num2 !== 0 ? num1 / num2 : 'Error: Division by zero';
                    operator = '/';
                    funcName = 'divide';
                    break;
            }

            document.getElementById('calcResult').innerHTML = `
                <div class="function-name">${funcName}</div>
                <div class="function-result">${typeof result === 'number' ? result.toFixed(2) : result}</div>
            `;
            
            document.getElementById('calcCode').innerHTML = `
                <span class="keyword">function</span> <span class="function">${funcName}</span>(a, b) {<br>
                &nbsp;&nbsp;<span class="keyword">return</span> a ${operator} b;<br>
                }<br>
                <br>
                <span class="keyword">let</span> result = <span class="function">${funcName}</span>(<span class="number">${num1}</span>, <span class="number">${num2}</span>);
            `;
        }

        // Initialize with default values
        window.onload = function() {
            createFunction();
            callFunction();
            calculateWithParams();
            checkNumber();
            calculate('add');
        };
    </script>
</body>
</html>
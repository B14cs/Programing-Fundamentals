<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Functions - Enhanced Scope Visualization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        h1 {
            font-size: 3.5em;
            color: #4facfe;
            margin-bottom: 15px;
            text-align: center;
            animation: fadeIn 0.8s ease-in;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            text-align: center;
            font-size: 1.5em;
            color: #666;
            margin-bottom: 40px;
            font-weight: 500;
        }

        .concept-box {
            background: linear-gradient(135deg, #e0f7fa 0%, #b2ebf2 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 25px 0;
            border-left: 6px solid #4facfe;
            font-size: 1.3em;
            line-height: 1.8;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .interactive-section {
            margin: 40px 0;
            padding: 35px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 3px dashed #4facfe;
            transition: all 0.3s ease;
        }

        .interactive-section:hover {
            border-color: #00f2fe;
            box-shadow: 0 5px 20px rgba(79, 172, 254, 0.2);
        }

        .interactive-section h2 {
            color: #4facfe;
            font-size: 2.2em;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
        }

        .interactive-section h2::before {
            content: "🎮";
            margin-right: 15px;
            font-size: 1.2em;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 25px 0;
        }

        @media (max-width: 900px) {
            .demo-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .box-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .box-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .function-box {
            border: 4px solid #4facfe;
            padding: 25px;
            border-radius: 10px;
            margin: 15px 0;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.4em;
            background: linear-gradient(145deg, #ffffff, #f0f0f0);
            box-shadow: 5px 5px 15px #d1d1d1, -5px -5px 15px #ffffff;
        }

        .function-name {
            font-weight: bold;
            color: #4facfe;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .function-result {
            color: #00f2fe;
            font-size: 2em;
            font-weight: bold;
            animation: pulse 2s ease-in-out infinite;
        }

        input[type="text"],
        input[type="number"] {
            padding: 15px 20px;
            font-size: 1.2em;
            border: 3px solid #4facfe;
            border-radius: 8px;
            width: 100%;
            margin: 12px 0;
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
            border-color: #00f2fe;
            box-shadow: 0 0 15px rgba(79, 172, 254, 0.3);
        }

        button {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 16px 25px;
            font-size: 1.2em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
            flex: 1;
            min-width: 120px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }

        .back-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        .next-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            margin-top: 30px;
            margin-left: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
        }

        .next-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.6);
        }

        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 25px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            line-height: 1.8;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.5);
            overflow-x: auto;
        }

        .keyword {
            color: #ff79c6;
        }

        .string {
            color: #f1fa8c;
        }

        .number {
            color: #bd93f9;
        }

        .comment {
            color: #6272a4;
        }

        .function {
            color: #50fa7b;
        }

        .variable {
            color: #8be9fd;
        }

        .types-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 25px 0;
        }

        .type-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border-top: 5px solid #4facfe;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .type-card:hover {
            transform: scale(1.03);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .type-card h3 {
            color: #4facfe;
            font-size: 1.6em;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }

        .type-card .example {
            background: #f5f7fa;
            padding: 12px;
            border-radius: 8px;
            margin-top: 12px;
            font-family: 'Courier New', monospace;
            font-size: 1em;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.8;
                transform: scale(1.05);
            }
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .compact-button-group {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .section-title {
            font-size: 2.8em;
            color: #00f2fe;
            margin: 40px 0 20px;
            text-align: center;
            border-bottom: 3px solid #4facfe;
            padding-bottom: 15px;
        }

        .tip-box {
            background: #fff9c4;
            border-left: 5px solid #ffd600;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
            font-size: 1.1em;
        }

        .function-visual {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
            gap: 30px;
        }

        .machine-box {
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            padding: 15px;
        }

        .machine-label {
            position: absolute;
            top: -25px;
            font-size: 1.2em;
            color: #333;
        }

        .machine-content {
            font-size: 1.2em;
            text-align: center;
        }

        .arrow {
            font-size: 3em;
            color: #4facfe;
        }

        /* Modal for function examples */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            max-width: 900px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            position: relative;
            border: 5px solid #4facfe;
        }

        .close-modal {
            position: absolute;
            top: 20px;
            right: 25px;
            font-size: 2.5em;
            cursor: pointer;
            color: #4facfe;
            transition: color 0.3s;
            background: white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        .close-modal:hover {
            color: #00f2fe;
            transform: scale(1.1);
        }

        .modal-title {
            color: #4facfe;
            font-size: 2.8em;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 3px solid #00f2fe;
            padding-bottom: 15px;
        }

        .modal-code {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 30px;
            border-radius: 12px;
            font-family: 'Courier New', monospace;
            font-size: 1.4em;
            line-height: 1.8;
            margin: 20px 0;
            box-shadow: inset 0 4px 15px rgba(0, 0, 0, 0.5);
            overflow-x: auto;
        }

        .function-description {
            font-size: 1.4em;
            line-height: 1.7;
            margin: 20px 0;
            color: #444;
        }

        .function-icon {
            font-size: 3em;
            margin-right: 20px;
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        /* Enhanced Nested Scope Visualization */
        .scope-visualization {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
            gap: 20px;
        }

        .scope-container {
            width: 100%;
            max-width: 900px;
            position: relative;
        }

        .scope-box {
            border-radius: 12px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            margin: 15px;
        }

        .scope-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .scope-box.global {
            border: 4px solid #4facfe;
            background: linear-gradient(135deg, #e3f2fd 100%, #bbdefb 0%);
            min-height: 400px;
            width: 100%;
        }

        .scope-box.function {
            border: 3px solid #00f2fe;
            background: linear-gradient(135deg, #e0f2f1 100%, #b2dfdb 0%);
            min-height: 300px;
            width: 85%;
            margin: 20px auto;
        }

        .scope-box.block {
            border: 2px solid #ff9800;
            background: linear-gradient(135deg, #fff3e0 100%, #ffe0b2 0%);
            min-height: 200px;
            width: 75%;
            margin: 15px auto;
        }

        .scope-title {
            font-size: 1.8em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .scope-title.global::before {
            content: "🌍";
        }

        .scope-title.function::before {
            content: "⚙️";
        }

        .scope-title.block::before {
            content: "🔲";
        }

        .scope-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            width: 100%;
        }

        .variable-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 18px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            min-width: 180px;
        }

        .variable-item:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .variable-name {
            font-weight: bold;
            color: #4facfe;
            font-size: 1.1em;
        }

        .variable-value {
            color: #00f2fe;
            font-weight: bold;
            font-size: 1.1em;
        }

        .scope-explanation {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            border-left: 5px solid #ff9800;
            font-size: 1.2em;
            line-height: 1.6;
        }

        .scope-explanation h3 {
            color: #ff9800;
            margin-bottom: 10px;
            font-size: 1.4em;
        }

        .scope-legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: white;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
        }

        .legend-color.global {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 2px solid #4facfe;
        }

        .legend-color.function {
            background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
            border: 2px solid #00f2fe;
        }

        .legend-color.block {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border: 2px solid #ff9800;
        }

        .scope-note {
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 1em;
            border-left: 4px solid #4caf50;
        }

        /* Scope Access Rules */
        .scope-access-rules {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
        }

        .access-rule {
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .access-direction {
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: left;
        }

        .access-from {
            width: 10em;
            font-weight: bold;
            padding: 8px 15px;
            border-radius: 6px;
            border: 2px solid;
            font-size: 1.1em;
            text-align: center;
        }

        .access-from.block-scope {
            color: #ffffff;
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            border-color: #e65100;
        }

        .access-from.function-scope {
            color: #ffffff;
            background: linear-gradient(135deg, #00f2fe 0%, #00bcd4 100%);
            border-color: #00838f;
        }

        .access-from.global-scope {
            color: #ffffff;
            background: linear-gradient(135deg, #4facfe 0%, #2196f3 100%);
            border-color: #1565c0;
        }

        .access-arrow {
            font-size: 5em;
            color: #666;
            font-weight: bold;
        }

        .access-to {
            width: 20em;
            padding: 8px 15px;
            border-radius: 6px;
            border: 2px solid;
            font-weight: bold;
            font-size: 1.1em;
            text-align: center;
        }

        .access-to.block-access {
            color: #2e7d32;
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-color: #4caf50;
        }

        .access-to.function-access {
            color: #00695c;
            background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
            border-color: #009688;
        }

        .access-to.global-access {
            color: #0d47a1;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-color: #2196f3;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .access-direction {
                flex-direction: column;
                gap: 10px;
            }

            .access-arrow {
                transform: rotate(90deg);
            }

            .access-from,
            .access-to {
                font-size: 1em;
                padding: 6px 12px;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }

            .subtitle {
                font-size: 1.2em;
            }

            .container {
                padding: 20px;
            }

            .interactive-section {
                padding: 20px;
            }

            .section-title {
                font-size: 2em;
            }

            .compact-button-group {
                grid-template-columns: 1fr;
            }

            .function-visual {
                flex-direction: column;
                gap: 20px;
            }

            .modal-content {
                padding: 25px;
            }

            .modal-title {
                font-size: 2.2em;
            }

            .modal-code {
                font-size: 1.2em;
                padding: 20px;
            }

            .function-description {
                font-size: 1.2em;
            }

            .scope-container {
                flex-direction: column;
            }

            .scope-box {
                min-height: 150px;
            }

            .scope-box.global {
                min-height: 350px;
            }

            .scope-box.function {
                min-height: 250px;
                width: 90%;
            }

            .scope-box.block {
                min-height: 180px;
                width: 85%;
            }

            .scope-title {
                font-size: 1.5em;
            }

            .variable-item {
                min-width: 150px;
                padding: 10px 15px;
            }

            .navigation-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .next-button {
                margin-left: 0;
            }
        }

        /* Output Cards Styles */
        .output-cards-container {
            margin-top: 20px;
        }

        .output-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            margin: 20px 0;
            border-left: 5px solid #4facfe;
            overflow: hidden;
            animation: slideInUp 0.3s ease-out;
        }

        .output-card.hidden {
            display: none;
        }

        .output-card-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .output-card-header h3 {
            margin: 0;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .output-card-content {
            padding: 25px;
        }

        .console-output {
            background: #2d2d2d;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .console-line {
            padding: 5px 0;
            border-left: 3px solid transparent;
            padding-left: 10px;
        }

        .console-line.success {
            color: #50fa7b;
            border-left-color: #50fa7b;
        }

        .output-note {
            background: #fff9c4;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffd600;
            font-size: 1em;
        }

        .rules-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .rule-item {
            display: flex;
            gap: 15px;
            align-items: flex-start;
        }

        .rule-number {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.1em;
            flex-shrink: 0;
        }

        .rule-content {
            flex: 1;
        }

        .rule-content strong {
            color: #4facfe;
            font-size: 1.1em;
            display: block;
            margin-bottom: 8px;
        }

        .rule-content ul {
            margin: 8px 0;
            padding-left: 20px;
        }

        .rule-content li {
            margin: 5px 0;
            line-height: 1.5;
        }

        .key-principle {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin-top: 20px;
        }

        .key-principle strong {
            color: #2e7d32;
            font-size: 1.1em;
            display: block;
            margin-bottom: 10px;
        }

        .key-principle p {
            margin: 0;
            line-height: 1.6;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .output-card-header {
                padding: 15px;
            }

            .output-card-header h3 {
                font-size: 1.2em;
            }

            .output-card-content {
                padding: 20px;
            }

            .console-output {
                font-size: 1em;
                padding: 15px;
            }

            .rule-item {
                flex-direction: column;
                gap: 10px;
            }

            .rule-number {
                align-self: flex-start;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>⚙️ Understanding Functions</h1>
        <p class="subtitle">Learn how to create reusable blocks of code that perform specific tasks</p>

        <div class="concept-box">
            <strong>What are Functions?</strong><br>
            Functions are reusable blocks of code that perform a specific task. Think of them as machines: you put
            something in (input), the machine does its work, and you get something out (output). Functions help you
            avoid repeating code and make your programs more organized.
        </div>

        <br>

        <div class="function-visual">
            <div class="machine-box">
                <div class="machine-label">Input</div>
                <div class="machine-content">5, 3</div>
            </div>
            <div class="arrow">→</div>
            <div class="machine-box">
                <div class="machine-label">Function</div>
                <div class="machine-content">add(x, y)</div>
            </div>
            <div class="arrow">→</div>
            <div class="machine-box">
                <div class="machine-label">Output</div>
                <div class="machine-content">8</div>
            </div>
        </div>

        <!-- Function Basics -->
        <h2 id="basics" class="section-title">Function Basics</h2>
        <div class="interactive-section">
            <h2>Try It: Create Your First Function</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Functions are defined once but can be called (used) multiple times
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Definition</h3>
                    <input type="text" id="funcName" placeholder="Function name (e.g., greet)" value="greet">
                    <button onclick="createFunction()" style="width: 100%;">Create Function</button>
                    <button onclick="callFunction()"
                        style="width: 100%; background: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%);">Call
                        Function</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Output</h3>
                    <div class="function-box" id="functionDisplay">
                        <div class="function-name">greet</div>
                        <div class="function-result">Click "Call Function"</div>
                    </div>
                    <div class="code-block" id="functionCode">
                        <span class="keyword">function</span> <span class="function">greet</span>() {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, World!"</span>;<br>
                        }<br>
                        <br>
                        <span class="comment">// Call the function</span><br>
                        <span class="function">greet</span>();
                    </div>
                </div>
            </div>
        </div>

        <!-- Parameters and Arguments -->
        <h2 id="parameters" class="section-title">Parameters & Arguments</h2>
        <div class="interactive-section">
            <h2>Try It: Functions with Parameters</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Parameters are like variables that hold the values passed to a function
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Input Values</h3>
                    <input type="number" id="param1" placeholder="First number" value="10">
                    <input type="number" id="param2" placeholder="Second number" value="5">
                    <button onclick="calculateWithParams()" style="width: 100%;">Calculate Sum</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Function Result</h3>
                    <div class="function-box" id="paramResult">
                        <div class="function-name">add</div>
                        <div class="function-result">15</div>
                    </div>
                    <div class="code-block" id="paramCode">
                        <span class="keyword">function</span> <span class="function">add</span>(a, b) {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> a + b;<br>
                        }<br>
                        <br>
                        <span class="comment">// Call with arguments</span><br>
                        <span class="keyword">let</span> result = <span class="function">add</span>(<span
                            class="number">10</span>, <span class="number">5</span>);
                    </div>
                </div>
            </div>
        </div>

        <!-- Return Values -->
        <h2 id="return" class="section-title">Return Values</h2>
        <div class="interactive-section">
            <h2>Try It: Functions That Return Values</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> The return statement sends a value back from the function
            </div>
            <div class="demo-grid">
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Check a Number</h3>
                    <input type="number" id="checkNumber" placeholder="Enter a number" value="7">
                    <button onclick="checkNumber()" style="width: 100%;">Check if Even</button>
                </div>
                <div class="box-container">
                    <h3 style="color: #4facfe; margin-bottom: 20px;">Check Result</h3>
                    <div class="function-box" id="checkResult">
                        <div class="function-name">isEven</div>
                        <div class="function-result">7 is odd</div>
                    </div>
                    <div class="code-block" id="checkCode">
                        <span class="keyword">function</span> <span class="function">isEven</span>(num) {<br>
                        &nbsp;&nbsp;<span class="keyword">if</span> (num % <span class="number">2</span> === <span
                            class="number">0</span>) {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span
                            class="string">"even"</span>;<br>
                        &nbsp;&nbsp;} <span class="keyword">else</span> {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span
                            class="string">"odd"</span>;<br>
                        &nbsp;&nbsp;}<br>
                        }<br>
                        <br>
                        <span class="keyword">let</span> result = <span class="function">isEven</span>(<span
                            class="number">7</span>);
                    </div>
                </div>
            </div>
        </div>

        <!-- Function Types -->
        <h2 id="types" class="section-title">Types of Functions</h2>
        <div class="interactive-section">
            <h2>Different Ways to Create Functions</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> JavaScript offers several ways to define functions, each with its own use cases
            </div>
            <div class="types-grid">
                <div class="type-card" onclick="showFunctionExample('declaration')">
                    <h3>📝 Function Declaration</h3>
                    <p>Traditional way to define a function</p>
                    <div class="example">
                        function greet() {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        }
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('expression')">
                    <h3>💡 Function Expression</h3>
                    <p>Assigning a function to a variable</p>
                    <div class="example">
                        const greet = function() {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        };
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('arrow')">
                    <h3>🏹 Arrow Function</h3>
                    <p>Modern concise syntax</p>
                    <div class="example">
                        const greet = () => {<br>
                        &nbsp;&nbsp;return "Hello!";<br>
                        };
                    </div>
                </div>
                <div class="type-card" onclick="showFunctionExample('callback')">
                    <h3>🔄 Callback Function</h3>
                    <p>Function passed as an argument</p>
                    <div class="example">
                        button.addEventListener(<br>
                        &nbsp;&nbsp;"click", function() {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;alert("Clicked!");<br>
                        &nbsp;&nbsp;}<br>
                        );
                    </div>
                </div>
            </div>
        </div>

        <!-- Function Scope -->
        <h2 id="scope" class="section-title">Function Scope</h2>
        <div class="interactive-section">
            <h2>Try It: Understanding Variable Scope</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> Variables declared inside a function are only accessible within that function.
                Inner scopes can access variables from outer scopes, but not vice versa.
            </div>

            <!-- Scope Legend -->
            <div class="scope-legend">
                <div class="legend-item">
                    <div class="legend-color global"></div>
                    <span>Global Scope</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color function"></div>
                    <span>Function Scope</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color block"></div>
                    <span>Block Scope</span>
                </div>
            </div>

            <!-- Nested Scope Visualization -->
            <div class="scope-visualization">
                <div class="scope-container">
                    <!-- Global Scope (Largest) -->
                    <div class="scope-box global">
                        <div class="scope-title global">Global Scope</div>
                        <div class="scope-content" id="globalScopeContent">
                            <!-- Global variables will be added here by JavaScript -->
                        </div>

                        <!-- Function Scope (Inside Global) -->
                        <div class="scope-box function">
                            <div class="scope-title function">Function Scope</div>
                            <div class="scope-content" id="functionScopeContent">
                                <!-- Function variables will be added here by JavaScript -->
                            </div>

                            <!-- Block Scope (Inside Function) -->
                            <div class="scope-box block">
                                <div class="scope-title block">Block Scope</div>
                                <div class="scope-content" id="blockScopeContent">
                                    <!-- Block variables will be added here by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Buttons to run/reset the example -->
            <div class="button-group">
                <button onclick="runScopeExample()">Run Scope Example</button>
                <button onclick="resetScopeExample()">Reset Example</button>
            </div>

            <!-- Explanation of scope rules -->
            <div class="scope-visualization">
                <div class="scope-explanation">
                    <h3>How Scope Works</h3>
                    <p>JavaScript uses <strong>lexical scoping</strong>, which means the accessibility of variables is
                        determined by their position in the code structure.</p>
                    <p><strong>• Global Scope</strong>: Variables declared outside any function or block. Accessible
                        everywhere.</p>
                    <p><strong>• Function Scope</strong>: Variables declared inside a function. Accessible only within
                        that function and any nested blocks.</p>
                    <p><strong>• Block Scope</strong>: Variables declared with <code>let</code> or
                        <code>const</code> inside a block (if, for, while, etc.). Accessible only within that block and
                        any nested blocks.
                    </p>
                    <p>Inner scopes can access variables from outer scopes, but outer scopes cannot access variables
                        from inner scopes.</p>
                </div>

                <!-- Show accessibility explanation -->
                <div class="scope-access-rules">
                    <div class="access-direction">
                        <span class="access-from block-scope">Block Scope</span>
                        <span class="access-arrow">→</span>
                        <span class="access-to block-access">Global, Function, Block</span>
                    </div>
                    <div class="access-direction">
                        <span class="access-from function-scope">Function Scope</span>
                        <span class="access-arrow">→</span>
                        <span class="access-to function-access">Global, Function</span>
                    </div>
                    <div class="access-direction">
                        <span class="access-from global-scope">Global Scope</span>
                        <span class="access-arrow">→</span>
                        <span class="access-to global-access">Global only</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Example Section -->
        <div class="interactive-section">
            <h2>Scope Code Example</h2>
            <div class="tip-box">
                💡 <strong>Tip:</strong> This code demonstrates how scope works in JavaScript with global, function, and
                block scopes
            </div>

            <div class="code-block">
                <span class="comment">// Global Scope - accessible everywhere</span><br>
                <span class="keyword">const</span> <span class="variable">globalVar</span> = <span class="string">"I am
                    global"</span>;<br>
                <span class="keyword">const</span> <span class="variable">PI</span> = <span
                    class="number">3.14159</span>;<br>
                <span class="keyword">let</span> <span class="variable">counter</span> = <span
                    class="number">0</span>;<br>
                <br>
                <span class="keyword">function</span> <span class="function">myFunction</span>() {<br>
                &nbsp;&nbsp;<span class="comment">// Function Scope - accessible in function and nested
                    blocks</span><br>
                &nbsp;&nbsp;<span class="keyword">const</span> <span class="variable">functionVar</span> = <span
                    class="string">"I am in function"</span>;<br>
                &nbsp;&nbsp;<span class="keyword">let</span> <span class="variable">temp</span> = <span
                    class="number">42</span>;<br>
                &nbsp;&nbsp;<br>
                &nbsp;&nbsp;<span class="comment">// Can access global variables here</span><br>
                &nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">globalVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">PI</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;<br>
                &nbsp;&nbsp;<span class="keyword">if</span> (<span class="keyword">true</span>) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Block Scope - accessible only in this block</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">const</span> <span class="variable">blockVar</span> =
                <span class="string">"I am in block"</span>;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span> <span class="variable">i</span> = <span
                    class="number">0</span>;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">// Can access global, function, and block variables
                    here</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">globalVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">functionVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">blockVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;}<br>
                &nbsp;&nbsp;<br>
                &nbsp;&nbsp;<span class="comment">// Can access global and function variables here</span><br>
                &nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">globalVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;<span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">functionVar</span>); <span class="comment">// ✅ Works</span><br>
                &nbsp;&nbsp;<span class="comment">// console.log(blockVar); // ❌ ERROR - blockVar is not accessible
                    here</span><br>
                }<br>
                <br>
                <span class="comment">// Global scope - can only access global variables</span><br>
                <span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">globalVar</span>); <span class="comment">// ✅ Works</span><br>
                <span class="function">console</span>.<span class="function">log</span>(<span
                    class="variable">PI</span>);
                <span class="comment">// ✅ Works</span><br>
                <span class="comment">// console.log(functionVar); // ❌ ERROR - functionVar is not accessible
                    here</span><br>
                <span class="comment">// console.log(blockVar); // ❌ ERROR - blockVar is not accessible here</span><br>
                <br>
                <span class="comment">// Call the function to see it in action</span><br>
                <span class="function">myFunction</span>();
            </div>

            <div class="scope-note" style="margin-top: 15px;">
                <strong>Remember:</strong> Inner scopes can access variables from outer scopes, but outer scopes
                cannot access variables from inner scopes. This is called <strong>lexical scoping</strong>.
            </div>

            <div class="button-group">
                <button onclick="runCodeExample()">Run This Code</button>
                <button onclick="explainScopeRules()">Explain Scope Rules</button>
            </div>

            <!-- Output Cards -->
            <div class="output-cards-container">
                <div id="codeOutputCard" class="output-card hidden">
                    <div class="output-card-header">
                        <h3>📝 Code Output</h3>
                    </div>
                    <div class="output-card-content">
                        <div class="console-output">
                            <div class="console-line success">✅ "I am global"</div>
                            <div class="console-line success">✅ 3.14159</div>
                            <div class="console-line success">✅ "I am global"</div>
                            <div class="console-line success">✅ 3.14159</div>
                            <div class="console-line success">✅ "I am in function"</div>
                            <div class="console-line success">✅ "I am in block"</div>
                            <div class="console-line success">✅ "I am global"</div>
                            <div class="console-line success">✅ "I am in function"</div>
                            <div class="console-line success">✅ "I am global"</div>
                            <div class="console-line success">✅ 3.14159</div>
                        </div>
                        <div class="output-note">
                            <strong>Note:</strong> The commented lines would cause ReferenceErrors if uncommented!
                        </div>
                    </div>
                </div>

                <div id="scopeRulesCard" class="output-card hidden">
                    <div class="output-card-header">
                        <h3>📚 Scope Rules Explained</h3>
                    </div>
                    <div class="output-card-content">
                        <div class="rules-list">
                            <div class="rule-item">
                                <div class="rule-number">1</div>
                                <div class="rule-content">
                                    <strong>GLOBAL SCOPE:</strong>
                                    <ul>
                                        <li>Variables declared outside any function or block</li>
                                        <li>Accessible everywhere in your code</li>
                                        <li>Example: <code>const globalVar = "I'm global";</code></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="rule-item">
                                <div class="rule-number">2</div>
                                <div class="rule-content">
                                    <strong>FUNCTION SCOPE:</strong>
                                    <ul>
                                        <li>Variables declared inside a function</li>
                                        <li>Accessible only within that function and nested blocks</li>
                                        <li>Cannot be accessed from outside the function</li>
                                        <li>Example: <code>function myFunc() { let funcVar = "inside"; }</code></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="rule-item">
                                <div class="rule-number">3</div>
                                <div class="rule-content">
                                    <strong>BLOCK SCOPE (let/const):</strong>
                                    <ul>
                                        <li>Variables declared with let/const inside {} blocks</li>
                                        <li>Accessible only within that block and nested blocks</li>
                                        <li>Example: <code>if (true) { const blockVar = "inside"; }</code></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="key-principle">
                            <strong>KEY PRINCIPLE:</strong>
                            <p>Inner scopes can access variables from outer scopes, but outer scopes cannot access
                                variables from inner scopes. This is called <strong>"lexical scoping"</strong> or
                                <strong>"scope chain"</strong>.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation buttons -->
        <div class="navigation-buttons">
            <a href="Loops.html" class="back-button">
                ← Back to Loops
            </a>
            <a href="index.html" class="next-button">
                Go to Learning Hub →
            </a>
        </div>
    </div>

    <!-- Modal for Function Examples -->
    <div id="functionModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <div class="function-icon" id="modalIcon">📝</div>
                <h2 class="modal-title" id="modalTitle">Function Declaration</h2>
            </div>
            <div class="function-description" id="modalDescription">
                Function declarations are the traditional way to define functions in JavaScript. They are hoisted,
                meaning you can call them before they are defined in your code.
            </div>
            <div class="modal-code" id="modalCode">
                // Function Declaration<br>
                function greet(name) {<br>
                &nbsp;&nbsp;return "Hello, " + name + "!";<br>
                }<br>
                <br>
                // Call the function<br>
                console.log(greet("Alice")); // "Hello, Alice!"
            </div>
            <div class="tip-box">
                <strong>Key Points:</strong>
                <ul>
                    <li>Function declarations are hoisted</li>
                    <li>They can be called before they are defined</li>
                    <li>They have their own <code>this</code> context</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Function creation and calling
        function createFunction() {
            const funcName = document.getElementById('funcName').value || 'greet';
            document.getElementById('functionCode').innerHTML =
                `<span class="keyword">function</span> <span class="function">${funcName}</span>() {<br>
                &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, World!"</span>;<br>
                }<br>
                <br>
                <span class="comment">// Call the function</span><br>
                <span class="function">${funcName}</span>();`;

            document.querySelector('#functionDisplay .function-name').textContent = funcName;
        }

        function callFunction() {
            const funcName = document.getElementById('funcName').value || 'greet';
            document.querySelector('#functionDisplay .function-result').textContent = "Hello, World!";
            document.querySelector('#functionDisplay .function-result').style.animation = 'pulse 2s ease-in-out';
            setTimeout(() => {
                document.querySelector('#functionDisplay .function-result').style.animation = '';
            }, 2000);
        }

        // Parameters and arguments
        function calculateWithParams() {
            const param1 = parseInt(document.getElementById('param1').value) || 0;
            const param2 = parseInt(document.getElementById('param2').value) || 0;
            const result = param1 + param2;

            document.querySelector('#paramResult .function-result').textContent = result;

            document.getElementById('paramCode').innerHTML =
                `<span class="keyword">function</span> <span class="function">add</span>(a, b) {<br>
                &nbsp;&nbsp;<span class="keyword">return</span> a + b;<br>
                }<br>
                <br>
                <span class="comment">// Call with arguments</span><br>
                <span class="keyword">let</span> result = <span class="function">add</span>(<span class="number">${param1}</span>, <span class="number">${param2}</span>);`;
        }

        // Return values
        function checkNumber() {
            const number = parseInt(document.getElementById('checkNumber').value) || 0;
            const isEven = number % 2 === 0;
            const resultText = isEven ? `${number} is even` : `${number} is odd`;

            document.querySelector('#checkResult .function-result').textContent = resultText;

            document.getElementById('checkCode').innerHTML =
                `<span class="keyword">function</span> <span class="function">isEven</span>(num) {<br>
                &nbsp;&nbsp;<span class="keyword">if</span> (num % <span class="number">2</span> === <span class="number">0</span>) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"even"</span>;<br>
                &nbsp;&nbsp;} <span class="keyword">else</span> {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"odd"</span>;<br>
                &nbsp;&nbsp;}<br>
                }<br>
                <br>
                <span class="keyword">let</span> result = <span class="function">isEven</span>(<span class="number">${number}</span>);`;
        }

        // Function examples modal
        function showFunctionExample(type) {
            const modal = document.getElementById('functionModal');
            const title = document.getElementById('modalTitle');
            const description = document.getElementById('modalDescription');
            const code = document.getElementById('modalCode');
            const icon = document.getElementById('modalIcon');

            switch (type) {
                case 'declaration':
                    title.textContent = 'Function Declaration';
                    icon.textContent = '📝';
                    description.innerHTML = 'Function declarations are the traditional way to define functions in JavaScript. They are <strong>hoisted</strong>, meaning you can call them before they are defined in your code.';
                    code.innerHTML =
                        `<span class="comment">// Function Declaration</span><br>
                        <span class="keyword">function</span> <span class="function">greet</span>(name) {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, "</span> + name + <span class="string">"!"</span>;<br>
                        }<br>
                        <br>
                        <span class="comment">// Call the function</span><br>
                        <span class="function">console</span>.<span class="function">log</span>(<span class="function">greet</span>(<span class="string">"Alice"</span>)); <span class="comment">// "Hello, Alice!"</span>`;
                    break;

                case 'expression':
                    title.textContent = 'Function Expression';
                    icon.textContent = '💡';
                    description.innerHTML = 'Function expressions define a function as part of a larger expression, typically by assigning it to a variable. They are <strong>not hoisted</strong>, so you must define them before calling.';
                    code.innerHTML =
                        `<span class="comment">// Function Expression</span><br>
                        <span class="keyword">const</span> greet = <span class="keyword">function</span>(name) {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, "</span> + name + <span class="string">"!"</span>;<br>
                        };<br>
                        <br>
                        <span class="comment">// Call the function</span><br>
                        <span class="function">console</span>.<span class="function">log</span>(greet(<span class="string">"Alice"</span>)); <span class="comment">// "Hello, Alice!"</span>`;
                    break;

                case 'arrow':
                    title.textContent = 'Arrow Function';
                    icon.textContent = '🏹';
                    description.innerHTML = 'Arrow functions provide a shorter syntax for writing functions and do not have their own <code>this</code> context. They are always function expressions.';
                    code.innerHTML =
                        `<span class="comment">// Arrow Function</span><br>
                        <span class="keyword">const</span> greet = (name) => {<br>
                        &nbsp;&nbsp;<span class="keyword">return</span> <span class="string">"Hello, "</span> + name + <span class="string">"!"</span>;<br>
                        };<br>
                        <br>
                        <span class="comment">// Shorter version (implicit return)</span><br>
                        <span class="keyword">const</span> greetShort = name => <span class="string">"Hello, "</span> + name + <span class="string">"!"</span>;<br>
                        <br>
                        <span class="comment">// Call the function</span><br>
                        <span class="function">console</span>.<span class="function">log</span>(greet(<span class="string">"Alice"</span>)); <span class="comment">// "Hello, Alice!"</span>`;
                    break;

                case 'callback':
                    title.textContent = 'Callback Function';
                    icon.textContent = '🔄';
                    description.innerHTML = 'Callback functions are functions passed as arguments to other functions. They are commonly used in asynchronous operations and event handling.';
                    code.innerHTML =
                        `<span class="comment">// Callback Function Example</span><br>
                        <span class="keyword">function</span> <span class="function">processUserInput</span>(callback) {<br>
                        &nbsp;&nbsp;<span class="keyword">let</span> name = <span class="function">prompt</span>(<span class="string">"Please enter your name."</span>);<br>
                        &nbsp;&nbsp;<span class="function">callback</span>(name);<br>
                        }<br>
                        <br>
                        <span class="comment">// Using the callback function</span><br>
                        <span class="function">processUserInput</span>(<span class="keyword">function</span>(name) {<br>
                        &nbsp;&nbsp;<span class="function">alert</span>(<span class="string">"Hello, "</span> + name);<br>
                        });`;
                    break;
            }

            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('functionModal').style.display = 'none';
        }

        // Scope Visualization
        function runScopeExample() {
            // Clear previous content
            document.getElementById('globalScopeContent').innerHTML = '';
            document.getElementById('functionScopeContent').innerHTML = '';
            document.getElementById('blockScopeContent').innerHTML = '';

            // Add global variables
            const globalVars = [
                { name: 'globalVar', value: '"I am global"', accessible: true },
                { name: 'PI', value: '3.14159', accessible: true },
                { name: 'appName', value: '"MyApp"', accessible: true }
            ];

            globalVars.forEach(variable => {
                const element = document.createElement('div');
                element.className = 'variable-item';
                element.innerHTML = `
                    <span class="variable-name">${variable.name}</span>
                    <span class="variable-value">${variable.value}</span>
                `;
                document.getElementById('globalScopeContent').appendChild(element);
            });

            // Add function variables
            setTimeout(() => {
                const functionVars = [
                    { name: 'functionVar', value: '"I am in function"', accessible: true },
                    { name: 'temp', value: '42', accessible: true },
                    { name: 'result', value: '"computed"', accessible: true }
                ];

                functionVars.forEach(variable => {
                    const element = document.createElement('div');
                    element.className = 'variable-item';
                    element.innerHTML = `
                        <span class="variable-name">${variable.name}</span>
                        <span class="variable-value">${variable.value}</span>
                    `;
                    document.getElementById('functionScopeContent').appendChild(element);
                });

                // Add block variables
                setTimeout(() => {
                    const blockVars = [
                        { name: 'blockVar', value: '"I am in block"', accessible: true },
                        { name: 'i', value: '0', accessible: true },
                        { name: 'item', value: '"current"', accessible: true }
                    ];

                    blockVars.forEach(variable => {
                        const element = document.createElement('div');
                        element.className = 'variable-item';
                        element.innerHTML = `
                            <span class="variable-name">${variable.name}</span>
                            <span class="variable-value">${variable.value}</span>
                        `;
                        document.getElementById('blockScopeContent').appendChild(element);
                    });
                }, 500);
            }, 500);
        }

        function resetScopeExample() {
            document.getElementById('globalScopeContent').innerHTML = '';
            document.getElementById('functionScopeContent').innerHTML = '';
            document.getElementById('blockScopeContent').innerHTML = '';

            const message = document.createElement('div');
            message.innerHTML = '<p>Click "Run Scope Example" to see how scope works</p>';
            message.style.textAlign = 'center';
            message.style.padding = '20px';
            message.style.color = '#666';

            document.getElementById('globalScopeContent').appendChild(message.cloneNode(true));
            document.getElementById('functionScopeContent').appendChild(message.cloneNode(true));
            document.getElementById('blockScopeContent').appendChild(message.cloneNode(true));
        }


        // Code Example Functions
        function runCodeExample() {
            // Hide other cards
            closeOutputCard('scopeRulesCard');

            // Show code output card
            const outputCard = document.getElementById('codeOutputCard');
            outputCard.classList.remove('hidden');

            // Scroll to the card
            outputCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function explainScopeRules() {
            // Hide other cards
            closeOutputCard('codeOutputCard');

            // Show scope rules card
            const rulesCard = document.getElementById('scopeRulesCard');
            rulesCard.classList.remove('hidden');

            // Scroll to the card
            rulesCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function closeOutputCard(cardId) {
            const card = document.getElementById(cardId);
            card.classList.add('hidden');
        }

        // Initialize the page
        window.onload = function () {
            createFunction();
            resetScopeExample();

            // Close modal when clicking outside
            window.onclick = function (event) {
                const modal = document.getElementById('functionModal');
                if (event.target === modal) {
                    closeModal();
                }
            }
        };
    </script>
</body>

</html>